{{ define "main" }}
<header>
    <h1 class="site-title"><a href="/">{{ .Site.Title }}</a></h1>
    <p class="rule">—</p>
</header>

<main>
    <ul class="posts-list">
        {{ $posts := where .Site.RegularPages "Type" "posts" }}
        {{ $total := len $posts }}
        {{ $limit := default 11 .Site.Params.postsLimit }}
        {{ $show := $posts.ByDate.Reverse }}
        {{ if gt $total $limit }}
            {{ $show = first $limit $show }}
        {{ end }}
        {{ range $index, $post := $show }}
        <li>
            <span class="post-number">{{ sub $total $index }}.</span>
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
        </li>
        {{ end }}
        <li class="posts-more">
            <span class="post-number"><a href="/posts/">→</a></span>
        </li>
    </ul>
</main>

<footer class="site-footer">
    <a href="/about/">Info</a>
</footer>
{{ end }}
